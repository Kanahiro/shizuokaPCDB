(function(e){function t(t){for(var a,i,l=t[0],s=t[1],u=t[2],f=0,p=[];f<l.length;f++)i=l[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"4bfe":function(e,t,n){"use strict";var a=n("5eca"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("MapPane",{attrs:{ankens:e.ankens}}),e.ankens.length>0?n("AnkenList",{attrs:{ankens:e.ankens}}):e._e(),n("Footer")],1)},o=[],i=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{attrs:{href:"/"}},[e._v("静岡県点群データマップ")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"https://pointcloud.pref.shizuoka.jp/"}},[e._v("Shizuoka Point Cloud DB")]),n("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-about",modifiers:{"modal-about":!0}}],attrs:{href:"#"}},[e._v("about")]),n("b-modal",{attrs:{id:"modal-about",title:"about","hide-footer":""}},[n("p",{staticClass:"my-4"},[e._v(" このサイトは、静岡県が運営する"),n("a",{attrs:{href:"https://pointcloud.pref.shizuoka.jp/"}},[e._v("Shizuoka Point Cloud DB")]),e._v("で 公開されているデータを探しやすくする事を目的に開発されました。 ご意見・お問い合わせは"),n("a",{attrs:{href:"https://twitter.com/kanahiro_iguchi"}},[e._v("Twitterアカウント")]),e._v("までどうぞ。 ")])])],1)],1)],1)],1)}),l=[],s={name:"Header"},u=s,c=n("2877"),f=Object(c["a"])(u,i,l,!1,null,"fd5a972c",null),p=f.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mapPane"},[n("l-map",{attrs:{zoom:e.zoom,center:e.center,preferCanvas:!0}},[n("l-control-scale",{attrs:{position:"bottomleft",imperial:!1,metric:!0}}),n("l-tile-layer",{attrs:{name:e.tileProvider.name,visible:e.tileProvider.visible,url:e.tileProvider.url,attribution:e.tileProvider.attribution}}),n("Vue2LeafletMarkerCluster",{attrs:{options:e.clusterOptions}},e._l(e.ankens,(function(t){return n("LMarker",{key:t.no,attrs:{"lat-lng":e.makeLatLng(t)}},[n("LPopup",{attrs:{content:e.makeAnchor(t)}})],1)})),1)],1)],1)},b=[],v=(n("b0c0"),n("e11e")),m=n("2699"),h=n("a40a"),k=n("d371"),_=n("4e2b"),y=n("f60f"),g=n("ca9f"),j=n.n(g),O={name:"MapPane",components:{LMap:m["a"],LTileLayer:h["a"],LControlScale:k["a"],LMarker:_["a"],LPopup:y["a"],Vue2LeafletMarkerCluster:j.a},data:function(){return{center:[34.976564,138.383789],zoom:10,tileProvider:{name:"OpenStreetMap",visible:!0,url:"https://tile.openstreetmap.jp/{z}/{x}/{y}.png",attribution:"map data © OpenStreetMap contributors"},clusterOptions:{disableClusteringAtZoom:15}}},props:{ankens:Array},methods:{makeLatLng:function(e){return Object(v["latLng"])(e.lat,e.lon)},makeAnchor:function(e){return"<a href='https://pointcloud.pref.shizuoka.jp/lasmap/ankendetail?ankenno="+e.no+"'>"+e.name+"</a>"}}},L=O,P=(n("d92f"),Object(c["a"])(L,d,b,!1,null,"65f103b8",null)),w=P.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ankenList"},[n("b-table-simple",{attrs:{hover:"",small:""}},[n("b-thead",[n("b-tr",[n("b-th",[e._v("データ年度")]),n("b-th",[e._v("工事番号")]),n("b-th",[e._v("工事名")])],1)],1),n("b-tbody",e._l(e.ankens,(function(t){return n("b-tr",{key:t.no},[n("b-th",[e._v(e._s(t.year))]),n("b-th",[e._v(e._s(t.no))]),n("b-th",[n("a",{attrs:{href:e.makeUrl(t.no)}},[e._v(e._s(t.name))])])],1)})),1)],1)],1)},M=[],x={name:"AnkensList",data:function(){return{}},props:{ankens:Array},methods:{makeUrl:function(e){return"https://pointcloud.pref.shizuoka.jp/lasmap/ankendetail?ankenno="+e},convertYYtoYYYY:function(e){var t=1988;switch(e){case"01":t=2019;break;default:t+=int(e);break}return t}}},S=x,z=Object(c["a"])(S,C,M,!1,null,"43075462",null),Y=z.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[e._v(" © "+e._s(e.thisYear)+" Kanahiro Iguchi. "),n("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-license",modifiers:{"modal-license":!0}}],attrs:{href:"#"}},[e._v("license")]),n("b-modal",{attrs:{id:"modal-license",title:"license","hide-footer":""}},[n("div",{staticClass:"my-4"},[n("div",[n("p",[e._v(" 【出典：静岡県ポイントクラウドデータベース "),n("a",{attrs:{href:"https://creativecommons.org/licenses/by/4.0/legalcode.ja"}},[e._v("CCライセンス 表示 4.0 国際")])])])])])],1)},D=[],U={name:"Header",data:function(){return{}},created:function(){},methods:{},computed:{thisYear:function(){var e=new Date(Date.now());return String(e.getFullYear())}}},$=U,E=(n("4bfe"),Object(c["a"])($,A,D,!1,null,"630e7b5a",null)),T=E.exports,H={name:"app",components:{Header:p,MapPane:w,AnkenList:Y,Footer:T},data:function(){return{ankens:[]}},created:function(){var e=this;fetch("/markers").then((function(e){return e.json()})).then((function(t){e.ankens=t.ankenList.sort((function(e,t){return e.no<t.no?1:e.no>t.no?-1:0})).sort((function(e,t){return e.year<t.year?1:e.year>t.year?-1:0}))})).catch((function(e){console.log(e),alert("エラーが発生しました。")}))}},I=H,F=(n("034f"),Object(c["a"])(I,r,o,!1,null,null,null)),B=F.exports,J=(n("6cc5"),n("5f5b"));n("f9e3"),n("2dd8");delete v["Icon"].Default.prototype._getIconUrl,a["default"].use(J["a"]),v["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(B)}}).$mount("#app")},"5eca":function(e,t,n){},"85ec":function(e,t,n){},9220:function(e,t,n){},d92f:function(e,t,n){"use strict";var a=n("9220"),r=n.n(a);r.a}});
//# sourceMappingURL=app.97c17b5d.js.map